{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "Generated by Yang2JsonSchema (1.11.0-SNAPSHOT 2019-03-06 23:30:14 CET) on Apr 15, 2019 10:15:05 AM from Yang module: ericsson-nrf-agent (0.1.2), with features: [], and with deviations/extensions: []",
  "title": "ericsson-nrf-agent",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "ericsson-nrf-agent:nrf-agent": {
      "type": "object",
      "description": "Configuration for the NRFAgent",
      "additionalProperties": false,
      "properties": {
        "nrf": {
          "type": "object",
          "description": "Local configuration of NRFs that could be selected to connect.",
          "additionalProperties": false,
          "properties": {
            "mode": {
              "enum": [
                "active-standby",
                "load-balance"
              ], 
              "default": "active-standby"
            },
            "profile": {
              "type": "array",
              "description": "Each item of the list represents the connection point to a specific NRF which may include multiple services.",
              "additionalProperties": false,
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Unique ID represents the NRF."
                  },
                  "fqdn": {
                    "type": "string",
                    "description": "FQDN of the NRF."
                  },
                  "ipv4-address": {
                    "type": "array",
                    "additionalProperties": false,
                    "items": {
                      "type": "string",
                      "pattern": "^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(%[\\p{N}\\p{L}]+)?$",
                      "additionalProperties": false
                    }
                  },
                  "ipv6-address": {
                    "type": "array",
                    "additionalProperties": false,
                    "items": {
                      "type": "string",
                      "pattern": "^((:|[0-9a-fA-F]{0,4}):)([0-9a-fA-F]{0,4}:){0,5}((([0-9a-fA-F]{0,4}:)?(:|[0-9a-fA-F]{0,4}))|(((25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])))(%[\\p{N}\\p{L}]+)?$",
                      "additionalProperties": false
                    }
                  },
                  "priority": {
                    "type": "number",
                    "description": "Priority of this NRF compared to the set of NRF in redundancy mode;lower values indicate a higher priority If priority is also present in the service parameters, those will have precedence over this value."
                  },
                  "capacity": {
                    "type": "number",
                    "description": "Static capacity information in the range of 0-65535, expressed as a weight relative to other NRF, If priority is also present in the service parameters, those will have precedence over this value."
                  },
                  "locality": {
                    "type": "string"
                  },
                  "service": {
                    "type": "array",
                    "additionalProperties": false,
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "id": {
                          "type": "number",
                          "description": "Unique ID represents the NRF service."
                        },
                        "name": {
                          "type": "string"
                        },
                        "version": {
                          "type": "array",
                          "description": "Versions of the service instance to be used in the URI for accessing the API",
                          "additionalProperties": false,
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "api-version-in-uri": {
                                "type": "string"
                              },
                              "api-full-version": {
                                "type": "string"
                              },
                              "expiry": {
                                "type": "string",
                                "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|[\\+\\-]\\d{2}:\\d{2})$"
                              }
                            }
                          }
                        },
                        "scheme": {
                          "type": "string",
                          "description": "Protocol scheme."
                        },
                        "fqdn": {
                          "type": "string",
                          "description": "FQDN of the service instance."
                        },
                        "ip-endpoint": {
                          "type": "array",
                          "description": "IP address(es) and port information where the service is listening for incoming service requests.",
                          "additionalProperties": false,
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "number"
                              },
                              "transport": {
                                "enum": [
                                  "tcp"
                                ]
                              },
                              "port": {
                                "type": "number"
                              },
                              "ipv4-address": {
                                "type": "string",
                                "pattern": "^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(%[\\p{N}\\p{L}]+)?$"
                              },
                              "ipv6-address": {
                                "type": "string",
                                "pattern": "^((:|[0-9a-fA-F]{0,4}):)([0-9a-fA-F]{0,4}:){0,5}((([0-9a-fA-F]{0,4}:)?(:|[0-9a-fA-F]{0,4}))|(((25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])))(%[\\p{N}\\p{L}]+)?$"
                              }
                            },
                            "required": [
                              "id"
                            ]
                          }
                        },
                        "priority": {
                          "type": "number",
                          "description": "Priority to be used for NF Service selection."
                        },
                        "capacity": {
                          "type": "number",
                          "description": "Static capacity information in the range of 0-65535, expressed as a weight relative to other services of the same type."
                        },
                        "api-prefix": {
                          "type": "string",
                          "description": "Optional path segment(s) used to construct the {apiRoot} variable of the different API URIs."
                        },
                        "supported-features": {
                          "type": "string",
                          "pattern": "^[A-Fa-f0-9]*$",
                          "description": "Supported Features of the NF Service instance."
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "scheme",
                        "version"
                      ]
                    }
                  }
                },
                "required": [
                  "id"
                ]
              }
            }
          }
        },
        "notification-address": {
          "type": "object",
          "description": "IP address and port used to construct nfStatusNotificationUri for incoming notifications from NRF.",
          "additionalProperties": false,
          "properties": {
            "transport": {
              "enum": [
                "tcp"
              ]
            },
            "port": {
              "type": "number"
            },
            "ipv4-address": {
              "type": "string",
              "pattern": "^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(%[\\p{N}\\p{L}]+)?$"
            },
            "ipv6-address": {
              "type": "string",
              "pattern": "^((:|[0-9a-fA-F]{0,4}):)([0-9a-fA-F]{0,4}:){0,5}((([0-9a-fA-F]{0,4}:)?(:|[0-9a-fA-F]{0,4}))|(((25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])))(%[\\p{N}\\p{L}]+)?$"
            }
          }
        }
      }
    }
  }
}